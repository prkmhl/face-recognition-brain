(this.webpackJsonpfacerecognitionbrain=this.webpackJsonpfacerecognitionbrain||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/Logo.c302099b.png"},function(e,t,a){e.exports=a(24)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(7),i=a.n(r),s=(a(15),a(5)),l=a(1),c=a(2),m=a(4),u=a(3),p=(a(16),a(8)),d=a.n(p),g=(a(17),function(e){var t=e.onRouteChange;return e.isSignedIn?o.a.createElement("div",{className:"Navigation"},o.a.createElement("p",{onClick:function(){return t("signout")}}," Sign out ")):o.a.createElement("div",{className:"Navigation"},o.a.createElement("p",{onClick:function(){return t("signin")}}," Sign in "),o.a.createElement("p",{onClick:function(){return t("register")}}," Register "))}),h=(a(18),a(9)),b=a.n(h),f=function(){return o.a.createElement("div",{className:"Logo"},o.a.createElement("p",null,"FaceRecoBrain"),o.a.createElement("br",null),o.a.createElement("img",{src:b.a,alt:"brainImg"}))},E=(a(19),function(e){var t=e.name,a=e.entries;return o.a.createElement("div",{className:"Rank"},o.a.createElement("p",null,"Hello ",o.a.createElement("span",{className:"f2 red"},"".concat(t)),", you've recognized so far ",o.a.createElement("span",{className:"f2 red"},"".concat(a))," faces.",o.a.createElement("br",null),"Thank you for using our app. Have fun!"),o.a.createElement("p",null,"This Magic Brain will recognize faces in your pictures. Give it a try!"))}),v=(a(20),function(e){var t=e.onInputChange,a=e.onPhotoSubmit;return o.a.createElement("div",{className:"Url"},o.a.createElement("div",null,o.a.createElement("input",{id:"urlinput",type:"search",placeholder:"enter an image URL",onChange:t}),o.a.createElement("button",{onClick:a},"Detect")))}),w=(a(21),function(e){var t=e.imageUrl,a=e.box;return o.a.createElement("div",{className:"Photo"},o.a.createElement("div",{className:"container"},o.a.createElement("img",{id:"inputImage",src:t,alt:"",width:"350px",height:"auto"}),o.a.createElement("div",{id:"bounding-box",style:{left:a.leftCol,top:a.topRow,right:a.rightCol,bottom:a.bottomRow}})))}),y=(a(22),function(e){var t=e.photoName,a=e.nameProbability,n=e.age,r=e.ageProbability;return o.a.createElement("div",{id:"description"},o.a.createElement("p",{id:"name"},"Name: ".concat(t),o.a.createElement("br",null),"Probability: ".concat(a)),o.a.createElement("p",{id:"age"},"Age appearance: ".concat(n),o.a.createElement("br",null),"Probability: ".concat(r)))}),N=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onEmailChange=function(e){n.setState({signInEmail:e.target.value})},n.onPasswordChange=function(e){n.setState({signInPassword:e.target.value})},n.onSubmitSignIn=function(){fetch("https://desolate-brook-49357.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.state.signInEmail,password:n.state.signInPassword})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.id?(n.props.loadUser(e),n.props.onRouteChange("home")):alert("wrong data")})).catch((function(e){return console.log(e)}))},n.state={signInEmail:"",signInPassword:""},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("article",{className:"br3 ba b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},o.a.createElement("main",{className:"pa4 black-80"},o.a.createElement("div",{className:"measure"},o.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},o.a.createElement("legend",{className:"f1 fw6 ph0 mh0"},"Sign In"),o.a.createElement("div",{className:"mt3"},o.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),o.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",autoComplete:"username email",onChange:this.onEmailChange})),o.a.createElement("div",{className:"mv3"},o.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),o.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",autoComplete:"current-password",onChange:this.onPasswordChange}))),o.a.createElement("div",{className:""},o.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in",onClick:this.onSubmitSignIn})),o.a.createElement("div",{className:"lh-copy mt3"},o.a.createElement("p",{className:"f6 link dim black db pointer",onClick:function(){return e.props.onRouteChange("register")}},"Register")))))}}]),a}(o.a.Component),C=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onNameChange=function(e){n.setState({registerName:e.target.value})},n.onEmailChange=function(e){n.setState({registerEmail:e.target.value})},n.onPasswordChange=function(e){n.setState({registerPassword:e.target.value})},n.onSubmitRegister=function(){fetch("https://desolate-brook-49357.herokuapp.com/register/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.state.registerName,email:n.state.registerEmail,password:n.state.registerPassword})}).then((function(e){return e.json()})).then((function(e){e.id&&(n.props.loadUser(e),n.props.onRouteChange("home"))}))},n.state={registerName:"",registerEmail:"",registerPassword:""},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("article",{className:"br3 ba b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},o.a.createElement("main",{className:"pa4 black-80"},o.a.createElement("div",{className:"measure"},o.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},o.a.createElement("legend",{className:"f1 fw6 ph0 mh0"},"Register"),o.a.createElement("div",{className:"mt3"},o.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"name"},"Name"),o.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"nameRegister",id:"nameRegister",onChange:this.onNameChange})),o.a.createElement("div",{className:"mt3"},o.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),o.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",autoComplete:"username email",onChange:this.onEmailChange})),o.a.createElement("div",{className:"mv3"},o.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),o.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",autoComplete:"current-password",onChange:this.onPasswordChange}))),o.a.createElement("div",{className:""},o.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Register",onClick:this.onSubmitRegister})),o.a.createElement("div",{className:"lh-copy mt3"},o.a.createElement("p",{className:"f6 link dim black db pointer",onClick:function(){return e.props.onRouteChange("signin")}},"Sign in")))))}}]),a}(o.a.Component),S={particles:{number:{value:30,density:{enable:!0,value_area:400}}}},k={input:"",imageUrl:"",box:"",photoName:"",nameProbability:"",age:"",ageProbability:"",route:"signin",isSignedIn:!1,user:{id:"",name:"",email:"",entries:0,joined:""}},P=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).loadUser=function(t){e.setState({user:{id:t.id,name:t.name,email:t.email,entries:t.entries,joined:t.joined}}),console.log(e.state)},e.calculateFaceLocation=function(e){var t=e.outputs[0].data.regions[0].region_info.bounding_box,a=document.getElementById("inputImage"),n=Number(a.width),o=Number(a.height);return{leftCol:t.left_col*n,topRow:t.top_row*o,rightCol:n-t.right_col*n,bottomRow:o-t.bottom_row*o}},e.displayFaceBox=function(t){document.getElementById("bounding-box").style.display="flex",e.setState({box:t})},e.displayName=function(t){var a=t.outputs[0].data.regions[0].data.concepts[0].name,n=t.outputs[0].data.regions[0].data.concepts[0].value;e.setState({photoName:a}),e.setState({nameProbability:n}),document.getElementById("name").style.display=n>.2?"flex":"none"},e.displayAge=function(t){var a=t.outputs[0].data.regions[0].data.concepts[0].name,n=t.outputs[0].data.regions[0].data.concepts[0].value;e.setState({age:a}),e.setState({ageProbability:n}),document.getElementById("age").style.display="flex"},e.onInputChange=function(t){e.setState({input:t.target.value})},e.onPhotoSubmit=function(){e.setState({imageUrl:e.state.input}),fetch("https://desolate-brook-49357.herokuapp.com/imageAPIcelebrity/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:e.state.input})}).then((function(e){return e.json()})).then((function(t){t&&(console.log(t),e.displayFaceBox(e.calculateFaceLocation(t)),e.displayName(t),console.log(t.outputs[0].data.regions[0].data.concepts[0].name,t.outputs[0].data.regions[0].data.concepts[0].value))})).catch((function(e){return console.log(e)})),fetch("https://desolate-brook-49357.herokuapp.com/imageAPIdemographics/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:e.state.input})}).then((function(e){return e.json()})).then((function(t){t&&(e.displayAge(t),console.log(t.outputs[0].data.regions[0].data.face.age_appearance.concepts[0].name,t.outputs[0].data.regions[0].data.face.age_appearance.concepts[0].value))})).catch((function(e){return console.log(e)})),fetch("https://desolate-brook-49357.herokuapp.com/imageCount/",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.state.user.id})}).then((function(e){return e.json()})).then((function(t){e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{user:Object(s.a)(Object(s.a)({},e.user),{},{entries:t})})}))})).catch(console.log)},e.onRouteChange=function(t){"signout"===t?e.setState(k):"home"===t&&e.setState({isSignedIn:!0}),e.setState({route:t}),console.log(e.state)},e.state=k,console.log(e.state),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isSignedIn,a=e.imageUrl,n=e.route,r=e.box,i=e.photoName,s=e.nameProbability,l=e.age,c=e.ageProbability;return o.a.createElement("div",{className:"App"},o.a.createElement(d.a,{className:"particles",params:S}),o.a.createElement("div",{id:"containerLogoSign"},o.a.createElement(f,null),o.a.createElement(g,{isSignedIn:t,onRouteChange:this.onRouteChange})),"home"===n?o.a.createElement("div",null,o.a.createElement(E,{name:this.state.user.name,entries:this.state.user.entries}),o.a.createElement(v,{onInputChange:this.onInputChange,onPhotoSubmit:this.onPhotoSubmit}),o.a.createElement("div",{id:"containerPhotoDescr"},o.a.createElement(w,{imageUrl:a,box:r}),o.a.createElement(y,{photoName:i,nameProbability:s,age:l,ageProbability:c}))):"register"===n?o.a.createElement(C,{onRouteChange:this.onRouteChange,loadUser:this.loadUser}):o.a.createElement(N,{onRouteChange:this.onRouteChange,loadUser:this.loadUser}))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(23);i.a.render(o.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.946724a8.chunk.js.map